{"name": "test_shopping[TC_3-problem_user-secret_sauce-Pass-Sauce Labs Fleece Jacket, Sauce Labs Bolt T-Shirt-Sauce Labs Fleece Jacket-John-Brown-62236-Pass]", "status": "failed", "statusDetails": {"message": "Failed: The shopping items do not match the expected list...", "trace": "setup_browser = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"a6e0aa99b47e106853a14efe0a78c5db\")>, log = <Logger Login Test (DEBUG)>, tc_id = 'TC_3'\nname = 'problem_user', password = 'secret_sauce', expected = 'Pass', addItems = 'Sauce Labs Fleece Jacket, Sauce Labs Bolt T-Shirt'\nremoveItems = 'Sauce Labs Fleece Jacket', firstName = 'John', lastName = 'Brown', PostalCode = 62236, ExpectedAction = 'Pass'\n\n    @allure.feature(\"Shopping functionality\")\n    @allure.story(\"Shopping in the site with valid and invalid operations\")\n    @allure.severity(allure.severity_level.CRITICAL)\n    @pytest.mark.parametrize(\"tc_id, name, password, expected, addItems, removeItems, firstName, lastName, PostalCode, ExpectedAction\", getTestData())\n    def test_shopping(setup_browser, log, tc_id, name, password, expected, addItems, removeItems, firstName, lastName, PostalCode, ExpectedAction):\n        log.info(\"Executing \"+ tc_id + \" with \" + xstr(name) + \" as username and \" + xstr(password) + \" as password in \"+ browserType +\" browser...\" )\n    \n        with allure.step(\"Step 1: Open the browser and navigate to required site\"):\n            driver = setup_browser\n            log.info(\"Starting browser session...\")\n    \n        with allure.step(\"Step 2: Enter the login credentials from test data\"):\n            shopping = CheckoutPage(driver)\n            log.info(\"Entering login credentials...\")\n            allure.attach(f\"Username: {xstr(name)}\", name=\"Username\", attachment_type=allure.attachment_type.TEXT)\n            allure.attach(f\"Password: {xstr(password)}\", name=\"Password\", attachment_type=allure.attachment_type.TEXT)\n            shopping.login(xstr(name), xstr(password))\n            sleep(sleepTime)\n    \n        with allure.step(\"Step 3: Validate the login and capture error message incase of invalid credentials\"):\n            log.info(\"Validating login...\")\n            result = shopping.validatelogin()\n            if result == \"Pass\":\n                log.info(\"Logged in successfully\")\n            else:\n                log.error(shopping.getErrorText())\n            log.info(\"Login Check performed successfully...\")\n    \n        with allure.step(\"Step 4: Add items to the cart in case of successful login\"):\n            try:\n                assert expected == result\n                if result == \"Pass\":\n                    log.info(\"Adding required items to cart..\")\n                    itemsToAdd = xstr(addItems).split(\", \")\n                    itemsToRemove = xstr(removeItems).split(\", \")\n                    totalItems = len(itemsToAdd) - len(itemsToRemove)\n                    for item in itemsToAdd:\n                        sleep(sleepTime)\n                        log.info(\"Adding \"+ item +\" to cart..\")\n                        shopping.addItem(item)\n                    with allure.step(\"Step 5: Proceed to the cart and remove items as per test data\"):\n                        log.info(\"Proceeding to cart..\")\n                        shopping.proceedToCart()\n                        for item in itemsToRemove:\n                            sleep(sleepTime)\n                            log.info(\"Removing \"+ item +\" from cart..\")\n                            shopping.removeItem(item)\n                    with allure.step(\"Step 6: Verify if correct items are present in the cart\"):\n                        log.info(\"Checking if all the required items are added and removed as expected...\")\n                        if not shopping.validateCartItems(totalItems):\n                            log.error(\"Items in the cart doesn't match the expected items\")\n>                           raise AssertionError(\"The shopping items do not match the expected list...\")\nE                           AssertionError: The shopping items do not match the expected list...\n\ntest_cases\\test_shopping.py:70: AssertionError\n\nDuring handling of the above exception, another exception occurred:\n\nsetup_browser = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"a6e0aa99b47e106853a14efe0a78c5db\")>, log = <Logger Login Test (DEBUG)>, tc_id = 'TC_3'\nname = 'problem_user', password = 'secret_sauce', expected = 'Pass', addItems = 'Sauce Labs Fleece Jacket, Sauce Labs Bolt T-Shirt'\nremoveItems = 'Sauce Labs Fleece Jacket', firstName = 'John', lastName = 'Brown', PostalCode = 62236, ExpectedAction = 'Pass'\n\n    @allure.feature(\"Shopping functionality\")\n    @allure.story(\"Shopping in the site with valid and invalid operations\")\n    @allure.severity(allure.severity_level.CRITICAL)\n    @pytest.mark.parametrize(\"tc_id, name, password, expected, addItems, removeItems, firstName, lastName, PostalCode, ExpectedAction\", getTestData())\n    def test_shopping(setup_browser, log, tc_id, name, password, expected, addItems, removeItems, firstName, lastName, PostalCode, ExpectedAction):\n        log.info(\"Executing \"+ tc_id + \" with \" + xstr(name) + \" as username and \" + xstr(password) + \" as password in \"+ browserType +\" browser...\" )\n    \n        with allure.step(\"Step 1: Open the browser and navigate to required site\"):\n            driver = setup_browser\n            log.info(\"Starting browser session...\")\n    \n        with allure.step(\"Step 2: Enter the login credentials from test data\"):\n            shopping = CheckoutPage(driver)\n            log.info(\"Entering login credentials...\")\n            allure.attach(f\"Username: {xstr(name)}\", name=\"Username\", attachment_type=allure.attachment_type.TEXT)\n            allure.attach(f\"Password: {xstr(password)}\", name=\"Password\", attachment_type=allure.attachment_type.TEXT)\n            shopping.login(xstr(name), xstr(password))\n            sleep(sleepTime)\n    \n        with allure.step(\"Step 3: Validate the login and capture error message incase of invalid credentials\"):\n            log.info(\"Validating login...\")\n            result = shopping.validatelogin()\n            if result == \"Pass\":\n                log.info(\"Logged in successfully\")\n            else:\n                log.error(shopping.getErrorText())\n            log.info(\"Login Check performed successfully...\")\n    \n        with allure.step(\"Step 4: Add items to the cart in case of successful login\"):\n            try:\n                assert expected == result\n                if result == \"Pass\":\n                    log.info(\"Adding required items to cart..\")\n                    itemsToAdd = xstr(addItems).split(\", \")\n                    itemsToRemove = xstr(removeItems).split(\", \")\n                    totalItems = len(itemsToAdd) - len(itemsToRemove)\n                    for item in itemsToAdd:\n                        sleep(sleepTime)\n                        log.info(\"Adding \"+ item +\" to cart..\")\n                        shopping.addItem(item)\n                    with allure.step(\"Step 5: Proceed to the cart and remove items as per test data\"):\n                        log.info(\"Proceeding to cart..\")\n                        shopping.proceedToCart()\n                        for item in itemsToRemove:\n                            sleep(sleepTime)\n                            log.info(\"Removing \"+ item +\" from cart..\")\n                            shopping.removeItem(item)\n                    with allure.step(\"Step 6: Verify if correct items are present in the cart\"):\n                        log.info(\"Checking if all the required items are added and removed as expected...\")\n                        if not shopping.validateCartItems(totalItems):\n                            log.error(\"Items in the cart doesn't match the expected items\")\n                            raise AssertionError(\"The shopping items do not match the expected list...\")\n                    with allure.step(\"Step 7: Proceed to checkout and enter the required details\"):\n                        shopping.proceedToCheckout()\n                        log.info(\"Proceeding to checkout..\")\n                        log.info(\"Entering form details..\")\n                        sleep(sleepTime)\n                        shopping.formSubmit(xstr(firstName), xstr(lastName), xstr(PostalCode))\n                    with allure.step(\"Step 8: Verify if the form details are valid\"):\n                        formResult = shopping.validateForm()\n                        if formResult == \"Pass\":\n                            log.info(\"Completing the transaction...\")\n                        else:\n                            log.error(shopping.getErrorText())\n                        try:\n                            assert ExpectedAction == formResult\n                            with allure.step(\"Step 9: Proceed to transaction page and finish shopping\"):\n                                if formResult == \"Pass\":\n                                    sleep(sleepTime)\n                                    shopping.finishShopping()\n                                    with allure.step(\"Step 10: Verify if the shopping is completed\"):\n                                        sleep(sleepTime)\n                                        shoppingResult = shopping.validateShopping()\n                                        if shoppingResult == \"Pass\":\n                                            log.info(\"Shopping completed successfully...\")\n                                        else:\n                                            log.error(\"Shopping is terminated...\")\n                                            raise AssertionError(\"The expected outcome was not achieved\")\n                        except Exception as e:\n                            log.error(\"The process did not complete as expected...\"+ str(e))\n                            pytest.fail(str(e))\n            except Exception as e:\n                log.error(\"An error was encountered during the process...\"+ str(e))\n>               pytest.fail(str(e))\nE               Failed: The shopping items do not match the expected list...\n\ntest_cases\\test_shopping.py:102: Failed"}, "steps": [{"name": "Step 1: Open the browser and navigate to required site", "status": "passed", "start": 1737225618101, "stop": 1737225618108}, {"name": "Step 2: Enter the login credentials from test data", "status": "passed", "attachments": [{"name": "Username", "source": "10324418-f2ff-4faa-b60b-09f82269ec1d-attachment.txt", "type": "text/plain"}, {"name": "Password", "source": "6a2c2a3a-5cd8-494c-a654-c247776aa559-attachment.txt", "type": "text/plain"}], "start": 1737225618108, "stop": 1737225622444}, {"name": "Step 3: Validate the login and capture error message incase of invalid credentials", "status": "passed", "start": 1737225622444, "stop": 1737225622460}, {"name": "Step 4: Add items to the cart in case of successful login", "status": "failed", "statusDetails": {"message": "Failed: The shopping items do not match the expected list...\n", "trace": "  File \"D:\\Selenium Practices\\Week 8\\test_cases\\test_shopping.py\", line 102, in test_shopping\n    pytest.fail(str(e))\n    ~~~~~~~~~~~^^^^^^^^\n  File \"C:\\Users\\Jarvis\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\_pytest\\outcomes.py\", line 178, in fail\n    raise Failed(msg=reason, pytrace=pytrace)\n"}, "steps": [{"name": "Step 5: Proceed to the cart and remove items as per test data", "status": "passed", "start": 1737225628688, "stop": 1737225641876}, {"name": "Step 6: Verify if correct items are present in the cart", "status": "failed", "statusDetails": {"message": "AssertionError: The shopping items do not match the expected list...\n", "trace": "  File \"D:\\Selenium Practices\\Week 8\\test_cases\\test_shopping.py\", line 70, in test_shopping\n    raise AssertionError(\"The shopping items do not match the expected list...\")\n"}, "start": 1737225641876, "stop": 1737225651920}], "start": 1737225622460, "stop": 1737225651924}], "attachments": [{"name": "log", "source": "b2495741-b120-44a7-bac8-732b276b1c28-attachment.txt", "type": "text/plain"}, {"name": "stderr", "source": "8ad53d6e-18b4-4295-8b60-96f7bcf4e86a-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "tc_id", "value": "'TC_3'"}, {"name": "name", "value": "'problem_user'"}, {"name": "password", "value": "'secret_sauce'"}, {"name": "expected", "value": "'Pass'"}, {"name": "addItems", "value": "'Sauce Labs Fleece Jacket, Sauce Labs Bolt T-Shirt'"}, {"name": "removeItems", "value": "'Sauce Labs Fleece Jacket'"}, {"name": "firstName", "value": "'John'"}, {"name": "lastName", "value": "'Brown'"}, {"name": "PostalCode", "value": "62236"}, {"name": "ExpectedAction", "value": "'Pass'"}], "start": 1737225618097, "stop": 1737225651926, "uuid": "96394740-a2e4-4125-9690-404c2cb87a63", "historyId": "3d9aff1505ae3d19846f695607905dab", "testCaseId": "625b2149237d74635ca703cd21db7595", "fullName": "test_cases.test_shopping#test_shopping", "labels": [{"name": "feature", "value": "Shopping functionality"}, {"name": "severity", "value": "critical"}, {"name": "story", "value": "Shopping in the site with valid and invalid operations"}, {"name": "parentSuite", "value": "test_cases"}, {"name": "suite", "value": "test_shopping"}, {"name": "host", "value": "Jarvis"}, {"name": "thread", "value": "12192-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_cases.test_shopping"}]}